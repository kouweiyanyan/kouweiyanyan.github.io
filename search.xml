<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>微服务</title>
      <link href="/posts/9521.html"/>
      <url>/posts/9521.html</url>
      
        <content type="html"><![CDATA[<h5 id="springcloud-alibaba第二代"><a href="#springcloud-alibaba第二代" class="headerlink" title="springcloud  alibaba第二代"></a>springcloud  alibaba第二代</h5><h6 id="本地负载均衡器"><a href="#本地负载均衡器" class="headerlink" title="本地负载均衡器"></a>本地负载均衡器</h6><blockquote><p>-1.什么是本地负载均衡器：我们消费者从我们的注册中心上获取接口调用地址列表。本地实现负载均衡算法（轮询、随机、hash一致性、权重）等。原理是获取接口地址列表，采用算法获取选择一个接口地址实现本地rpc远程地址。</p></blockquote><p>2.本地负载均衡器有哪些：自己写、ribbon springcloud 第一代中的、loadbalancerSpringcloud自己研发。</p><p>springcloud Rest或者openFeign都是默认支持ribbon.</p><p>3.本地负载衡器与nginx实现负载均衡器有哪些区别？</p><ul><li>nginx属于服务器端的负载均衡器，客户端所有的请求都统一交给我们的nginx，在由我们的nginx转发到我们的真实服务实现负载均衡。</li><li>本地负载均衡器：属于客户端的负载均衡。</li><li>nginx实现负载均衡器与本地负载均衡器应用场景：</li><li>本地负载均衡器属于客户端负载均衡器 一般用于微服务rpc远程调用 比如dubbo、rest模板、openfeign或者rpc远程调用框架。</li></ul><p>4.LoadBalancerClient      springcloud 根据服务id本地实现负载均衡器</p><p>5.openFeign客户端</p><ul><li><p>springcloud 第一代采用feign客户端 第二代采用openfeign客户端</p></li><li><p>openfeign客户端作用：是一个web声明式的http客户端远程调用工具。底层是封装HttpClient技术。</p></li><li>真正架构一个微服务项目 项目的架构模式：</li><li>—mayiket-meite-openfeign-parent-整个依赖分类</li><li>—-mayikt-service-api—开放的api接口 定义了接口没有任何代码业务实现</li><li>—-mayikt-service-api—member—-会员提供开放接口</li><li>—-mayikt-service-api-order—-订单提供的开放接口</li></ul><ul><li><p>—-mayikt-service-impl—对开放的api接口 代码业务实现</p></li><li><p>—-mayikt-service-impl—member—-会员提供开放接口</p></li><li><p>—-mayikt-service-impl-order—-订单提供的开放接口</p><p>注意:微服务架构基本的样式  最大的优点能够对我们feign客户端实现复用机制。</p><p>注意feign客户端调用事项：如果请求参数没有加上注解的话，默认采用post请求发送。openfeign默认是支持负载均衡,ribbon.</p></li></ul><h6 id="nacos分布式配置中心"><a href="#nacos分布式配置中心" class="headerlink" title="nacos分布式配置中心"></a>nacos分布式配置中心</h6><p>在项目中定义配置文件，最大的缺陷？如果在生产环境正在运行的时候突然需要修改配置文件的话，必须重启 我们的配置文件。</p><p>分布式配置中心的概念？ 使用专门的服务器统一存放管理我们整个的微服务的配置文件，能够完全动态实现对我们配置文件修改、新增、是不需要重启我们的服务器。</p><p>分布式配置中心的框架有哪些：携程的阿波罗（重量级的配置中心）、nacos（轻量级的）、springcloud config(没有界面)</p><p>nacos使用配置中心发布规则：</p><p>dadaid名称：默认的情况服务名称版本</p><p>注意事项：nacos本地如果也配置话，可能启动的时候会抛出异常。</p><p>config多环境配置区分</p><p>mayikt-nacos-client-dev.yaml</p><p>mayikt-nacos-client-prod.yaml</p><p>mayikt-nacos-client-test.yaml</p><p>mayikt-nacos-client-local.yaml</p><p>nacos默认嵌入小型的数据库，nacos实现集群模式</p><p>注意：nacos在windows版本下运行默认是单机版本 需要指定startup.cmd -m cluster</p><p>nacos在linux版本下运行默认是集群版本 如果连接单机版本 startup.cmd -m standalone.</p><p>集群的ip地址不能采用127.0.0.1进行集群注册</p><p>nacos与Eureka区别：</p><p>最大区别：nacos支持两种模式cp/Ap模式 从nacos1.0版本开始 注意 默认模式是Ap模式。</p><p>CAP定律概念：</p><ol><li>一致性(c):在分布式系统中，如果服务器是集群的情况下，每个节点同一个时刻查询的数据必须保持一致性的问题。</li><li>可用性(A):集群节点中，部分的节点出现了故障后任然可以继续使用，</li><li>分区容错性(P):在分布式系统中网络存在脑裂的问题，部分的Server与整个集群失去联系无法形成一个群体。</li></ol><p>取舍：只有在cp/AP做选择。</p><p>zookeeper采用cp保证数据的一致性问题，原理采用Zab原子广播协议，当我们的ZK领导因为某种原因宕机的情况下，会自动触发重新选一个新的领导角色，整个选举的过程为了保证数据的一致性问题，在选举过程中整个zk环境是不可以使用的，可能短暂无法使用到zk.</p><p>Eureka采用ap的设计理念架构注册中心，完全去中心化思想。也就是没有主从之分，每个节点都是均等的，采用相互注册原理，你中有我我中有你，你中有我我中有你，只要最后有一个eureka节点存在就可以保证整个微服务可以实现通讯。</p><p>ZK必须有一个领导角色</p><p>中心化 必须围绕一个领导角色作为核心，选举领导和更随着角色。</p><p>去中心化 每个角色都是均等的。</p><p>nacos与eureka区别：</p><p>Nacos从1.0版本支持cp和AP混合模式集群，默认采用AP保证服务的可用性，cp形式底层集群使用ratf协议保证数据的一致性问题。</p><p>如果采用Ap模式注册服务的实例仅支持临时注册形式。</p><p>分布式一致性协议的算法ratf协议</p><p>如何理解Eureka的PeerToPeer集群架构</p><p>ZAB协议与paxos协议实现区别</p><p>NacosRaft一致性协议心跳的实现原理</p><p>Eureka与nacos有哪些区别</p><p>1.Eureka采用AP模式实现注册中心</p><p>Nacos默认采用AP模式，在1.0版本之后采用AP+cp模式混合实现注册中心。</p><p>Eureka与Nacos底层实现集群协议哪些区别。是什么问题</p><p>去中心化对等。</p><p>Raft协议实现集群产生领导角色。</p><p>Raft到底是什么问题 分布式一致性协议的算法</p><p>分布式系统一致性算法    应用于系统软件实现集群保持每个节点数据的同步性保持我们的集群中每个节点的数据的一致性问题</p><p>场景：Redis集群、nacos集群、mongodb集群等。</p><p>分布式事务一致性框架与分布式系统一致性算法有哪些？</p><p>分布式事务一致性框架：核心解决我们在实际系统中产生跨事务导致分布式事务问题。</p><p>分布式系统一致性算法：解决我们系统之间集群之后每个节点保持数据的一致性。</p><p>有哪些分布式一致性算法：raft(nacos)、zab(zookeeper)、paxos等</p><p>Zookpper基于ZAP协议实现保持每个节点的数据同步问题，中心化思想化</p><p>我们在分布式系统，存在多个系统之间集群保持数据一致性，采用cp一致性算法保持数据的一致性问题。</p><p>Zookeeper基于ZAP协议实现保持每个节点的数据同步的问题，中心化思想集群模式：分为领导和跟随者角色。</p><p>在程序中如何成为一个节点能力比较强</p><p>对每个节点配置一个myid或者serverid还有数字越大能力越强或者随机时间</p><p>整个集群中为了保持数据的一致性的问题，必须满足大多数情况满足大于n/2+1，这个可运行的节点</p><p>ZAB的协议实现原理是通过比较myid myid谁最大谁就是领导角色。只要满足过半的机制就可以成为领导角色，后来启动的节点不会参与选举的。</p><p>如何保持数据一致性问题，所有的写的请求统一交给我们的领导角色实现，领导角色写完数据之后，领导角色在将数据同步给每个节点。</p><p>注意：数据之间同步采用2pc两阶段提交协议。</p><p>选举过程：</p><p>先去比较zxid zxid谁最大谁就是为领导角色</p><p>如果zxid相等的情况下，myid谁最大谁就为领导角色。</p><h6 id="在Raft协议算法中分为角色-名词"><a href="#在Raft协议算法中分为角色-名词" class="headerlink" title="在Raft协议算法中分为角色|名词"></a>在Raft协议算法中分为角色|名词</h6><p>1.状态：分为三种 跟随者、竞选者（候选人）、领导角色。</p><p>注意：任何算法都是来源生活。</p><p>2.大多数：大于=n/2+ 1   n表示集群的个数</p><p>3.任期：每次选举一个新的领导角色 任期都会实现增加</p><p>选举的过程是怎么样的？</p><p>1.默认情况下每个节点都是为跟随者</p><p>2.每个节点随机的生成一个选举的超时间，例如大概是100-300ms 在这个超时的时间范围类必须要等待。</p><p>3.超时时间过后，当前的节点的状态可能由跟随者变为竞选者状态，会给其它的节点发出选举的投票通知，只要该竞选者有超过半数以上即可选为领导角色。谁的超时时间最短，谁左右大概率的为领导角色。</p><p>核心设计的原理：谁的超时间端谁左右大概率的为领导角色。</p><p>那么如何随机数有可能一样的情况下，当前投票全部作废、重新进入随机生成超时时间。</p><p>如果有多个节点生成随机都是一样的情况下，比较谁的票数最多，谁就是为领导。</p><p>如果票数完全一样的情况，直接作废，重新进入随机生成超时时间。</p><p>建议集群的节点为奇数。</p><p>故障重新实现选举</p><p>1.如果我们的跟随者不能及时的收到领导角色的消息，那么这时候跟随者状态就会变为竞选者状态，发给其它的节点发出投票通知，只要竞选者有超过半数以上即可选举为领导角色。</p><p>数据是如何保持一致性的类似于zap两阶段提交协议。</p><p>所有的写请求都是统一交给我们的领导角色完成，会写入该对应的日志，标记该状态是为提交状态。</p><p>为了提交该日志，领导角色就会将该日志心跳的形式发送给其他跟随者。只要满足过半的跟随者可以写入该数据</p><h6 id="新一代网关GateWay"><a href="#新一代网关GateWay" class="headerlink" title="新一代网关GateWay"></a>新一代网关GateWay</h6><ol><li><p>Zuul与Gateway有哪些区别</p><p>zuul网关属于netfix公司开源框架，属于第一代微服务网关</p><p>GateWay属于springcloud自己研发的网关框架，属于第二代微服务网关。</p><p>相比来说Gateway比zuul网关的性能要好很多。</p><p>zuul网关底层基于Servlet实现，阻塞式api,不支持长连接。依赖springboot-web</p><p>springCloudGateway基于spring5构建，能够实现响应式非阻塞式api，支持长连接。依赖springboot-webFux</p></li><li><p>Gateway整合Nacos实现服务转发</p></li></ol><ol><li>基于Gateway拦截请求参数</li></ol><ol><li>Gateway集群原理分析</li></ol><h6 id="SpringcloudGateway"><a href="#SpringcloudGateway" class="headerlink" title="SpringcloudGateway"></a>SpringcloudGateway</h6><p>什么是微服务网关？</p><p>作用：就是可以实现用户的验证登录、解決跨域、日志拦截、权限控制、限流熔断、负载均衡、黑名单和白名单机制等。</p><p>微服务网关是整个微服务api接口的入口，可以实现过滤api请求。</p><p>微服务中的架构关系采用前后端分离，前端调用接口地址都能够被抓包分析到。</p><p>传统的方式我们可以使用过滤器拦截用户会话信息，这个过程所有的服务器都必须要写入该验证会话登录代码。</p><p>过滤器与网关的区别：</p><p>过滤器适合于单个服务实现过滤请求</p><p>网关拦截整个微服务实现过滤请求 能够解决整个微服务中冗余代码。</p><p>过滤器 局部拦截 网关全局拦截</p><p>网关服务的端口号一般是：80 或者是 443</p><p>网关与nginx的区别</p><p>微服务网关能够做的事情，Nginx也可以实现</p><p>相同点：都是可以实现api拦截，负载均衡、反向代理、请求过滤，可以完全和网关实现一样的效果。</p><p>不通点：</p><p>nginx采用c语言。gateway也就是java语言编写的。</p><h6 id="Gateway网关高可用集群与动态网关"><a href="#Gateway网关高可用集群与动态网关" class="headerlink" title="Gateway网关高可用集群与动态网关"></a>Gateway网关高可用集群与动态网关</h6><p>思考问题？如果我们使用网关宕机了，会出现什么情况下？导致我们整个微服务无法实现通信。</p><p>这时候必须网关实现集群，基于Nginx实现即可。</p><p>网关实现集群如何访问？使用nginx或者lvs虚拟vip</p><p>环境配置：</p><p>网关1   127.0.0.1:81</p><p>网关2   127.0.0.1:82</p><p>Nginx服务器  127.0.0.1:80</p><p>动态网关：任何配置都实现不用重启网关服务器都可以及时刷新网关配置。</p><p>实现思路：</p><p>1.分布式配置中心 不建议使用 阅读性差</p><p>2.基于数据表结构设计 特别建议，阅读性比较高。</p><p>基于数据库表形式的设计</p><div class="table-container"><table><thead><tr><th>id                    route_id             route_name                route_pattern              route_type          route_url</th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>表id                  路由id                  路由名称                           路由模式                          路由类型                  路由地址</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><p>网关已经提供了api接口</p><p>1.直接新增</p><p>2.直接修改</p><p>思路：</p><p>​    当我们的网关服务启动的时候，从我们数据库查询网关配置，将数据库的内容读取到网关内存中。</p><ol><li>GateWay 的谓词有哪些</li></ol><ol><li>Gateway整体执行流程</li></ol><ol><li>GateWay深度源码分析</li></ol><ol><li>Gateway解决跨域的问题</li></ol><p>词汇表</p><p>路线：网关的基本构建它由id,目标url 谓词集合和过滤器定义，如果谓词为true,则匹配路由。</p><p>谓词： springcloud gateway 常用名词  Route路由 路由的id(唯一)、转发uri(真是的服务地址)、过滤器、谓词组成。</p><p>谓词匹配规则</p><p>filter: 这些是使用待定工厂构造的springframework GateFilter实例。在这里，您可以在下游请求之前或之后修改请求和响应。</p><p>微服务中跨域的问题  不属于前端解决 </p><p>核心点就是在我们的后端</p><p>解决跨域的问题</p><ol><li>httpClient 转发</li><li>jsonp 不支持我们的post 请求属于前端解决</li><li>NGinx解决跨域的问题保持我们域名和端口一致性。</li><li><p>使用过滤器允许接口可以跨域  响应头设置。</p></li><li><p>Nginx 也是通过配置文件解决跨域的问题。</p></li><li>基于微服务网关解决跨域问题。需要保持域名和端口一致性。</li><li>使用网关代码允许所有的服务可以跨域的问题。</li><li>使用springboot自带的@CrossOrigin注解。</li></ol><h6 id="sentinel-服务保护框架"><a href="#sentinel-服务保护框架" class="headerlink" title="sentinel 服务保护框架"></a>sentinel 服务保护框架</h6><p>服务的保护有哪些方案 黑名单和白名单 、对ip实现限流/熔断机制、服务降级、服务隔离机制。</p><ul><li>服务的限流：目的是为了保护我们的服务，在高并发的情况下，如何客户端请求服务器端到底的一定极限（设置阈值），请求的数量超出我们设置的阈值，开启我们的自我保护机制。直接执行我们的服务降级方法。不会执行我们的业务逻辑，走本地fallback方法。</li></ul><ul><li>服务的降级：在高并发的情况下，为了防止用户一直等待，采用限流或者熔断，保护我们服务，不会执行我们的业务逻辑。走本地的fallback方法。目的是为了给用户返回一个友好的提示给客户端。</li></ul><p>比如：返回给前端返回人数过多，请稍后重试</p><ul><li>服务雪崩的效应，默认情况下，tomcat/jetty 服务器只会有一个线程池处理所有的接口请求。</li></ul><p>这样话就是在高并发的情况下，如果客户端所有的请求都堆积到同一个接口上，那么会产生该服务器所有的线程都在处理该接口，可能会导致其它接口无法访问，短暂没有线程处理。</p><p>服务雪崩效应的解决方案： </p><ol><li>服务的隔离机制 通过线程池隔离或者信号量隔离机制。</li><li>线程池隔离：每个接口都有自己独立的线程池维护我们的请求，每个线程池互补影响。缺点：占用服务器内存非常大。</li><li>信号量隔离：设置允许我们某个接口有一阈值的线程数量处理我们的接口，如果超出该线程数量则拒接访问。</li></ol><p>sentinel与hystrix的区别</p><p>限流配置有两种方案：</p><ol><li>手动使用代码配置 纯代码/注解的形式。</li><li>sentinel控制台形式的配置</li><li>默认情况下Sentinel不对数据持久化，需要自己独立持久化。</li></ol><p>实现步骤：</p><p>创建我们的流控规则/限流规则，让后在被映射地址去引用。</p><p>， </p><p>当我们Springboot项目启动成功后，加载我们的限流规则。</p><p>下载sentinel  启动执行命令：java -jar sentinel-dashboard-1.8.1.jar —server.port=9090</p>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>云原生</title>
      <link href="/posts/9520.html"/>
      <url>/posts/9520.html</url>
      
        <content type="html"><![CDATA[<h4 id="k8s笔记"><a href="#k8s笔记" class="headerlink" title="k8s笔记"></a>k8s笔记</h4><blockquote><p>-JAVA<br>[bootstrap-token] configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token<br>[bootstrap-token] configured RBAC rules to allow certificate rotation for all node client certificates in the cluster<br>[bootstrap-token] Creating the “cluster-info” ConfigMap in the “kube-public” namespace<br>[kubelet-finalize] Updating “/etc/kubernetes/kubelet.conf” to point to a rotatable kubelet client certificate and key<br>[addons] Applied essential addon: CoreDNS<br>[addons] Applied essential addon: kube-proxy</p></blockquote><p>Your Kubernetes control-plane has initialized successfully!</p><p>To start using your cluster, you need to run the following as a regular user:</p><p>  mkdir -p $HOME/.kube<br>  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config<br>  sudo chown $(id -u):$(id -g) $HOME/.kube/config</p><p>Alternatively, if you are the root user, you can run:</p><p>  export KUBECONFIG=/etc/kubernetes/admin.conf</p><p>You should now deploy a pod network to the cluster.<br>Run “kubectl apply -f [podnetwork].yaml” with one of the options listed at:<br>  <a href="https://kubernetes.io/docs/concepts/cluster-administration/addons/">https://kubernetes.io/docs/concepts/cluster-administration/addons/</a></p><p>You can now join any number of control-plane nodes by copying certificate authorities<br>and service account keys on each node and then running the following as root:</p><p>  kubeadm join cluster-endpoint:6443 —token pa5vdv.83ebix0qcne2ia9d \<br>    —discovery-token-ca-cert-hash sha256:140638f5d46fd376fb23160a458d149b1ca789cc4066ba05f0eb7d658a656922 \<br>    —control-plane </p><p>Then you can join any number of worker nodes by running the following on each as root:<br>//从节点加入主节点命令<br>kubeadm join cluster-endpoint:6443 —token pa5vdv.83ebix0qcne2ia9d \<br>    —discovery-token-ca-cert-hash sha256:140638f5d46fd376fb23160a458d149b1ca789cc4066ba05f0eb7d658a656922<br>[root@k8s-master ~]#<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：当下面命令过期了，要执行此命令可以获取新的 </span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">kubeadm join cluster-endpoint:6443 --token pa5vdv.83ebix0qcne2ia9d \</span><br><span class="line">    --discovery-token-ca-cert-hash sha256:140638f5d46fd376fb23160a458d149b1ca789cc4066ba05f0eb7d658a656922 </span><br></pre></td></tr></table></figure></p><p> 在运行命令获取新的令牌</p><p><strong>kubeadm token create —print-join-command</strong></p><p>查看镜像日志命令</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kubectl logs kubernetes-dashboard<span class="number">-6</span>dccb458d5-x7xft --<span class="keyword">namespace</span>=kube-system</span><br></pre></td></tr></table></figure><div class="tip "><p>default</p></div>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/manifest.json"/>
      <url>/manifest.json</url>
      
        <content type="html"><![CDATA[{"name":"_炎_炎_`Blog","short_name":"_炎_炎_","theme_color":"#3b70fc","background_color":"#3b70fc","display":"standalone","scope":"/","start_url":"/","icons":[{"src":"/img/siteicon/16.png","sizes":"16x16","type":"image/png"},{"src":"/img/siteicon/32.png","sizes":"32x32","type":"image/png"},{"src":"/img/siteicon/48.png","sizes":"48x48","type":"image/png"},{"src":"/img/siteicon/64.png","sizes":"64x64","type":"image/png"},{"src":"/img/siteicon/128.png","sizes":"128x128","type":"image/png"},{"src":"/img/siteicon/144.png","sizes":"144x144","type":"image/png"},{"src":"/img/siteicon/512.png","sizes":"512x512","type":"image/png"}],"splash_pages":null}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} */@font-face {    font-family: ZhuZiAYuanJWD;    src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);    font-display: swap;    font-weight: lighter;  }    div#menus {    font-family: "ZhuZiAYuanJWD";  }  h1#site-title {    font-family: ZhuZiAYuanJWD;    font-size: 3em !important;  }  a.article-title,  a.blog-slider__title,  a.categoryBar-list-link,  h1.post-title {    font-family: ZhuZiAYuanJWD;  }    .iconfont {    font-family: "iconfont" !important;    font-size: 3em;    /* 可以定义图标大小 */    font-style: normal;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;  }    /* 时间轴生肖icon */  svg.icon {    /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */    width: 1em;    height: 1em;    /* width和height定义图标的默认宽度和高度*/    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;  }    .icon-zhongbiao::before {    color: #f7c768;  }    /* bilibli番剧插件 */  #article-container .bangumi-tab.bangumi-active {    background: var(--anzhiyu-theme);    color: var(--anzhiyu-ahoverbg);    border-radius: 10px;  }  a.bangumi-tab:hover {    text-decoration: none !important;  }  .bangumi-button:hover {    background: var(--anzhiyu-theme) !important;    border-radius: 10px !important;    color: var(--anzhiyu-ahoverbg) !important;  }  a.bangumi-button.bangumi-nextpage:hover {    text-decoration: none !important;  }  .bangumi-button {    padding: 5px 10px !important;  }    a.bangumi-tab {    padding: 5px 10px !important;  }  svg.icon.faa-tada {    font-size: 1.1em;  }  .bangumi-info-item {    border-right: 1px solid #f2b94b;  }  .bangumi-info-item span {    color: #f2b94b;  }  .bangumi-info-item em {    color: #f2b94b;  }    /* 解决artitalk的图标问题 */  #uploadSource > svg {    width: 1.19em;    height: 1.5em;  }    /*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */  #page-header:not(.not-top-img):before {    background-color: transparent !important;  }    /* 首页文章卡片 */  #recent-posts > .recent-post-item {    background: rgba(255, 255, 255, 0.9);  }    /* 首页侧栏卡片 */  #aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);  }    /* 文章页面正文背景 */  div#post {    background: rgba(255, 255, 255, 0.9);  }    /* 分页页面 */  div#page {    background: rgba(255, 255, 255, 0.9);  }    /* 归档页面 */  div#archive {    background: rgba(255, 255, 255, 0.9);  }    /* 标签页面 */  div#tag {    background: rgba(255, 255, 255, 0.9);  }    /* 分类页面 */  div#category {    background: rgba(255, 255, 255, 0.9);  }    /*夜间模式伪类遮罩层透明*/  [data-theme="dark"] #recent-posts > .recent-post-item {    background: #121212;  }    [data-theme="dark"] .card-widget {    background: #121212 !important;  }    [data-theme="dark"] div#post {    background: #121212 !important;  }    [data-theme="dark"] div#tag {    background: #121212 !important;  }    [data-theme="dark"] div#archive {    background: #121212 !important;  }    [data-theme="dark"] div#page {    background: #121212 !important;  }  [data-theme="dark"] div#category {    background: #121212 !important;  }    [data-theme="dark"] div#category {    background: transparent !important;  }  /* 页脚透明 */  #footer {    background: transparent !important;  }    /* 头图透明 */  #page-header {    background: transparent !important;  }    #rightside > div > button {    border-radius: 5px;  }    /* 滚动条 */    ::-webkit-scrollbar {    width: 10px;    height: 10px;  }    ::-webkit-scrollbar-thumb {    background-color: #3b70fc;    border-radius: 2em;  }    ::-webkit-scrollbar-corner {    background-color: transparent;  }    ::-moz-selection {    color: #fff;    background-color: #3b70fc;  }    /* 音乐播放器 */    /* .aplayer .aplayer-lrc {    display: none !important;  } */    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {    left: -66px !important;    transition: all 0.3s;    /* 默认情况下缩进左侧66px，只留一点箭头部分 */  }    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {    left: 0 !important;    transition: all 0.3s;    /* 鼠标悬停是左侧缩进归零，完全显示按钮 */  }    .aplayer.aplayer-fixed {    z-index: 999999 !important;  }    /* 评论框  */  .vwrap {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 30px 0px;  }    /* 设置评论框 */    .vcard {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 0px 0px;  }    /* md网站下划线 */  #article-container a:hover {    text-decoration: none !important;  }    #article-container #hpp_talk p img {    display: inline;  }    /* 404页面 */  #error-wrap {    position: absolute;    top: 40%;    right: 0;    left: 0;    margin: 0 auto;    padding: 0 1rem;    max-width: 1000px;    transform: translate(0, -50%);  }    #error-wrap .error-content {    display: flex;    flex-direction: row;    justify-content: center;    align-items: center;    margin: 0 1rem;    height: 18rem;    border-radius: 8px;    background: var(--card-bg);    box-shadow: var(--card-box-shadow);    transition: all 0.3s;  }    #error-wrap .error-content .error-img {    box-flex: 1;    flex: 1;    height: 100%;    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;    background-color: #3b70fc;    background-position: center;    background-size: cover;  }    #error-wrap .error-content .error-info {    box-flex: 1;    flex: 1;    padding: 0.5rem;    text-align: center;    font-size: 14px;    font-family: Titillium Web, "PingFang SC", "Hiragino Sans GB", "Microsoft JhengHei", "Microsoft YaHei", sans-serif;  }  #error-wrap .error-content .error-info .error_title {    margin-top: -4rem;    font-size: 9em;  }  #error-wrap .error-content .error-info .error_subtitle {    margin-top: -3.5rem;    word-break: break-word;    font-size: 1.6em;  }  #error-wrap .error-content .error-info a {    display: inline-block;    margin-top: 0.5rem;    padding: 0.3rem 1.5rem;    background: var(--btn-bg);    color: var(--btn-color);  }    #body-wrap.error .aside-list {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    bottom: 0px;    position: absolute;    padding: 1rem;    width: 100%;    overflow: scroll;  }    #body-wrap.error .aside-list .aside-list-group {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    max-width: 1200px;    margin: 0 auto;  }    #body-wrap.error .aside-list .aside-list-item {    padding: 0.5rem;  }    #body-wrap.error .aside-list .aside-list-item img {    width: 100%;    object-fit: cover;    border-radius: 12px;  }    #body-wrap.error .aside-list .aside-list-item .thumbnail {    overflow: hidden;    width: 230px;    height: 143px;    background: var(--anzhiyu-card-bg);    display: flex;  }    #body-wrap.error .aside-list .aside-list-item .content .title {    -webkit-line-clamp: 2;    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    line-height: 1.5;    justify-content: center;    align-items: flex-end;    align-content: center;    padding-top: 0.5rem;    color: white;  }    #body-wrap.error .aside-list .aside-list-item .content time {    display: none;  }    /* 代码框主题 */  #article-container figure.highlight {    border-radius: 10px;  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/runtime.main.css"/>
      <url>/css/runtime.main.css</url>
      
        <content type="html"><![CDATA[div#runtime{width:180px;margin:auto;color:#fff;padding-inline:5px;border-radius:10px;background-color:rgba(0,0,0,.7)}#workboard{font-size:12px}[data-theme=dark] div#runtime{color:#28b4c8;box-shadow:0 0 5px rgba(28,69,218,.71);animation:flashlight 1s linear infinite alternate}#ghbdages .github-badge img{height:20px}@-moz-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-webkit-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-o-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/ali_font.js"/>
      <url>/js/ali_font.js</url>
      
        <content type="html"><![CDATA[window._iconfont_svg_string_4207705='<svg><symbol id="icon-shenqing" viewBox="0 0 1024 1024"><path d="M841.1 485.2v290.1c0 36.4-29.5 65.8-65.8 65.8H248.7c-36.4 0-65.8-29.5-65.8-65.8V248.7c0-36.4 29.5-65.8 65.8-65.8h324.5c32.8 0 59.3-26.6 59.3-59.3 0-32.8-26.6-59.3-59.3-59.3H236.4c-95.1 0-172.2 77.1-172.2 172.2v551.1c0 95.1 77.1 172.2 172.2 172.2h551.1c95.1 0 172.2-77.1 172.2-172.2V485.2c0-32.8-26.6-59.3-59.3-59.3-32.7 0-59.3 26.5-59.3 59.3zM765 155.8l109.4 109.8c6.6 6.6 17.3 6.6 23.9 0.1l0.5-0.5c36.9-36.8 37-96.6 0.2-133.5-36.8-36.9-96.6-37-133.5-0.2l-0.5 0.5c-6.5 6.5-6.6 17.2 0 23.8z" fill="#FFF000" ></path><path d="M835.1 298l-103-103.3c-8.4-8.5-22.2-8.5-30.6-0.1L363.4 531.7c-3.3 3.3-5.6 7.4-6.6 11.9l-32.6 138.7c-3.1 13.3 8.8 25.2 22.1 22.2L485 672.3c4.5-1 8.6-3.3 11.9-6.6l338.2-337.1c8.5-8.4 8.5-22.1 0-30.6z" fill="#FFF000" ></path></symbol><symbol id="icon-comment" viewBox="0 0 1024 1024"><path d="M789.943 919.613h-611.51c-51.29 0-92.829-41.538-92.829-92.828V209.857c0-51.29 41.538-92.828 92.828-92.828H517.96v36.12H178.432c-31.424 0-56.708 25.645-56.708 56.708v616.928c0 31.425 25.645 56.708 56.708 56.708h611.51c31.425 0 56.71-25.645 56.71-56.708V620.54h36.12v206.245c0 51.29-41.539 92.828-92.83 92.828" fill="#57D3B9" ></path><path d="M933.339 258.619L787.414 113.055c-3.25-3.25-7.946-5.418-12.642-5.418s-9.39 1.806-12.641 5.418L342.778 532.408c-2.167 2.167-3.612 5.057-4.695 7.946L281.374 740.46c-1.806 6.14 0 13.003 4.696 17.698 3.612 3.612 7.946 5.418 13.003 5.418 1.445 0 3.25-0.36 4.696-0.722l202.271-54.541c2.89-0.723 5.78-2.529 7.947-4.696l419.352-419.352c3.25-3.25 5.418-7.947 5.418-12.642s-2.167-9.753-5.418-13.003zM371.313 555.886L490.147 674.72 324.718 719.51l46.595-163.623z m144.84 93.912L396.237 529.879l378.536-378.536L894.691 271.26 516.154 649.798z" fill="#57D3B9" ></path></symbol><symbol id="icon-blogger" viewBox="0 0 1024 1024"><path d="M708.778667 725.333333H358.229333C325.333333 725.333333 298.666667 696.149333 298.666667 661.333333c0-35.2 26.666667-64 59.562666-64h350.549334c32.554667 0 59.221333 28.8 59.221333 64 0 34.816-26.666667 64-59.221333 64M359.68 298.666667h176.64c33.706667 0 61.013333 28.714667 61.013333 63.829333S570.026667 426.666667 536.32 426.666667H359.68C325.973333 426.666667 298.666667 397.610667 298.666667 362.496S325.973333 298.666667 359.68 298.666667m639.274667 107.178666c-20.693333-8.490667-109.568 0.938667-134.229334-20.394666-17.450667-15.36-18.56-43.178667-25.344-80.298667-11.392-62.122667-16.128-76.202667-27.989333-100.693333C768.298667 117.333333 665.045333 42.666667 571.178667 42.666667H353.621333C182.528 42.666667 42.666667 176.298667 42.666667 339.328v345.941333C42.666667 848.042667 182.485333 981.333333 353.621333 981.333333h357.418667c171.093333 0 310.016-133.290667 310.997333-296.064L1024 445.696s0-29.653333-25.045333-39.850667" fill="#FF6500" ></path></symbol><symbol id="icon-bianji" viewBox="0 0 1024 1024"><path d="M345.884444 673.848889l221.866667-62.862222-158.435555-157.582223zM938.666667 242.346667l-158.72-157.297778-348.728889 346.453333 158.72 157.297778z m-46.364445 583.395555a99.072 99.072 0 0 1-98.986666 98.986667H198.257778a99.299556 99.299556 0 0 1-99.271111-98.986667V230.968889a99.356444 99.356444 0 0 1 99.271111-99.271111h396.515555l99.271111-98.986667H165.262222A165.205333 165.205333 0 0 0 0 197.973333v660.764445A165.205333 165.205333 0 0 0 165.262222 1024h661.048889a165.205333 165.205333 0 0 0 165.262222-165.262222V329.955556l-99.271111 99.271111v396.515555z m120.035556-715.662222L913.066667 11.662222a43.861333 43.861333 0 0 0-61.44 1.991111l-47.502223 47.217778 158.435556 157.582222 47.786667-47.217777a43.52 43.52 0 0 0 1.991111-61.155556z m0 0" fill="#FF8C6F" ></path></symbol><symbol id="icon-tooltip-edit" viewBox="0 0 1024 1024"><path d="M853.333333 85.333333H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333334v512a85.333333 85.333333 0 0 0 85.333334 85.333333h170.666666l170.666667 170.666667 170.666667-170.666667h170.666666c47.36 0 85.333333-37.973333 85.333334-85.333333V170.666667a85.333333 85.333333 0 0 0-85.333334-85.333334M387.413333 640H298.666667v-89.173333l263.253333-264.106667 88.32 88.746667L387.413333 640m331.093334-332.8l-43.093334 43.093333-88.32-86.613333 43.093334-43.52c8.533333-8.96 23.04-9.386667 33.28 0l55.04 53.333333c8.96 8.96 9.386667 23.466667 0 33.706667z"  ></path></symbol><symbol id="icon-biaozhu" viewBox="0 0 1024 1024"><path d="M512 64a48 48 0 1 1 0 96H160v704h704V512l0.448-6.528A48 48 0 0 1 960 512v384a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64z" fill="#DF5F5F" ></path><path d="M526.016 634.88l-198.592 79.36a12.8 12.8 0 0 1-16.64-16.64l79.424-198.528L526.08 634.88z m384.64-384.64L548.608 612.16 412.864 476.48l362.048-362.048 135.744 135.744z m90.496-135.808a32 32 0 0 1 0 45.248l-67.84 67.84-135.808-135.68 67.84-67.904a32 32 0 0 1 45.312 0l90.496 90.496z" fill="#DF5F5F" ></path></symbol><symbol id="icon-kaoshiyemian" viewBox="0 0 1024 1024"><path d="M352.768 565.76c-0.512 0.512-1.024 1.536-1.536 2.56l-43.52 165.376c-2.56 9.728 0 19.968 7.168 27.136 6.656 7.168 16.896 9.728 26.112 7.168l159.232-45.056h0.512c2.048 0 3.584-0.512 5.12-2.048L931.84 282.112c12.8-13.312 19.456-30.72 19.456-50.176 0-22.016-9.216-44.032-24.576-60.416l-40.448-41.472c-15.36-15.872-36.352-25.088-58.368-25.6-18.944 0-35.84 7.168-48.64 19.968l-425.472 439.808c-0.512 0.512-0.512 1.024-1.024 1.536z m537.6-326.656l-42.496 43.52-68.608-71.68 41.472-43.008c6.656-6.656 19.456-5.632 27.136 2.048l40.448 41.472c4.096 4.096 6.656 9.728 6.656 15.872 0 4.608-1.536 8.704-4.608 11.776z m-461.824 333.312l307.2-316.928 68.608 71.68-306.688 316.416-69.12-71.168z m-55.808 128.512l22.528-83.968 59.392 60.928-81.92 23.04z m521.216-287.744c-16.896 0-30.208 13.824-30.208 30.208v411.136c0 10.24-3.584 19.968-10.752 27.136-7.168 7.168-16.896 11.264-26.624 11.264h-655.36c-20.992 0-36.352-16.896-36.352-38.4V178.176c0-21.504 15.36-37.888 36.352-37.888h449.536c16.384 0 29.184-14.848 29.184-31.744 0-16.896-13.312-31.232-29.184-31.232H166.4c-50.688 0-92.672 43.52-92.672 95.744v686.08c0 52.224 41.984 96.256 93.184 96.256h664.064c50.688 0 94.208-44.032 94.208-96.256V443.392c-1.536-16.896-14.848-30.208-31.232-30.208z m0 0" fill="#E99057" ></path></symbol><symbol id="icon-a-1bianji" viewBox="0 0 1024 1024"><path d="M941.632 392c-28.736 0-42.944 14.144-42.944 28.224v451.776c0 21.184-21.504 42.368-43.008 42.368H146.496c-21.44 0-42.944-21.184-42.944-42.368V144.96c0-21.184 21.504-42.368 42.944-42.368h444.48c14.336 0 28.48-14.144 28.48-35.264S605.312 32 583.744 32H139.264C82.048 32 32 81.408 32 137.856v748.224c0 56.512 50.048 105.856 107.264 105.856h730.752c57.28 0 107.392-49.344 107.392-105.856V427.328c-0.064-21.184-14.336-35.328-35.776-35.328zM296.768 688.512c0 14.144 0 21.12 7.168 28.224 7.04 6.976 14.336 6.976 21.44 6.976h7.104l193.28-49.344 444.352-437.696c21.568-21.184 35.904-56.448 0-91.776l-71.424-70.592c-35.84-35.264-71.552-35.264-107.456 7.04L346.88 504.96l-50.112 183.552z m530.368-564.736c7.04-7.04 21.376-7.04 28.544 0l50.112 49.408c7.04 7.04 7.04 21.184 0 28.224l-50.112 49.408-78.72-77.632 50.176-49.408z m-100.224 98.816l78.656 77.696-294.08 289.344L432.768 512l294.144-289.408zM389.76 561.408l71.616 70.592-93.12 21.12 21.504-91.712z" fill="#3285FF" ></path></symbol><symbol id="icon-bianji1" viewBox="0 0 1024 1024"><path d="M835.956 130.081l56.569 56.569c23.431 23.431 23.431 61.421 0 84.852L828 336.025V841c0 38.66-31.34 70-70 70H182c-38.66 0-70-31.34-70-70V265c0-38.66 31.34-70 70-70h504.184l64.92-64.919c23.431-23.431 61.42-23.431 84.852 0z m-56.323 28.043l-0.246 0.241-36.635 36.634h-56.568L340.982 540.203l-43.461 157.83a22 22 0 0 0 0 11.682c3.226 11.714 15.337 18.596 27.051 15.37l157.83-43.46L828 336.024v-56.568l36.24-36.239c7.73-7.729 7.81-20.21 0.244-28.04l-56.812-56.813c-7.73-7.729-20.21-7.81-28.039-0.241z m-401.175 401.17l84.853 84.854-1.718 1.718-117.097 32.243 32.244-117.096 1.718-1.719zM705.14 232.611l84.853 84.853-298.399 298.4-84.853-84.854 298.399-298.4zM758 195c38.66 0 70 31.34 70 70v14.457l-9.721 9.723-84.854-84.853 9.327-9.328L758 195z" fill="#222222" ></path></symbol><symbol id="icon-btn-bianji" viewBox="0 0 1024 1024"><path d="M216.454095 143.043048A94.646857 94.646857 0 0 0 121.904762 237.397333v569.953524a94.598095 94.598095 0 0 0 94.598095 94.256762h570.026667a94.354286 94.354286 0 0 0 94.232381-94.256762V432.932571l97.816381-94.549333v503.637333a160.182857 160.182857 0 0 1-160.914286 157.403429H181.735619A157.354667 157.354667 0 0 1 24.380952 842.020571V212.675048a165.790476 165.790476 0 0 1 157.354667-167.15581h503.637333l-94.232381 97.52381H216.454095z m348.647619 463.238095l-211.285333 59.66019L414.232381 455.92381l150.869333 150.332952z m21.113905-21.138286l-151.161905-149.77219L767.146667 105.398857l151.161904 149.796572L586.215619 585.142857zM986.624 187.416381L941.348571 232.350476l-151.161904-150.089143 45.251047-44.958476a41.74019 41.74019 0 0 1 58.514286-1.901714l94.598095 93.769143a41.447619 41.447619 0 0 1-1.852952 58.221714h-0.097524z" fill="#44D7B6" ></path></symbol></svg>',function(c){var l=(l=document.getElementsByTagName("script"))[l.length-1],t=l.getAttribute("data-injectcss"),l=l.getAttribute("data-disable-injectsvg");if(!l){var e,i,o,n,a,d=function(l,t){t.parentNode.insertBefore(l,t)};if(t&&!c.__iconfont__svg__cssinject__){c.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(l){console&&console.log(l)}}e=function(){var l,t=document.createElement("div");t.innerHTML=c._iconfont_svg_string_4207705,(t=t.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",t=t,(l=document.body).firstChild?d(t,l.firstChild):l.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),e()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(o=e,n=c.document,a=!1,s(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,h())})}function h(){a||(a=!0,o())}function s(){try{n.documentElement.doScroll("left")}catch(l){return void setTimeout(s,50)}h()}}(window);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime.min.js"/>
      <url>/js/runtime.min.js</url>
      
        <content type="html"><![CDATA[var now=new Date;function createtime(){var t=new Date("04/01/2021 00:00:00");now.setTime(now.getTime()+250);var e=(now-t)/1e3/60/60/24,a=Math.floor(e),n=(now-t)/1e3/60/60-24*a,r=Math.floor(n);1==String(r).length&&(r="0"+r);var s=(now-t)/1e3/60-1440*a-60*r,i=Math.floor(s);1==String(i).length&&(i="0"+i);var o=(now-t)/1e3-86400*a-3600*r-60*i,l=Math.round(o);1==String(l).length&&(l="0"+l);let g="";g=r<18&&r>=9?`<img class='boardsign' src='/img/min.svg' title='默默无闻的开发者，希望有一天称为技术大神~'><span class='textTip'> <br> 距离地球运行了 ${a} 天</span><span id='runtime'> ${r} 小时 ${i} 分 ${l} 秒 </span> <i class='fas fa-heartbeat' style='color:red'></i>`:`<img class='boardsign' src='https://npm.elemecdn.com/anzhiyu-blog@2.0.3/img/badge/安知鱼-下班啦.svg' title='下班了就该开开心心的玩耍，嘿嘿~'><span class='textTip'> <br> 本站居然运行了 ${a} 天</span><span id='runtime'> ${r} 小时 ${i} 分 ${l} 秒 </span> <i class='fas fa-heartbeat' style='color:red'></i>`,document.getElementById("workboard")&&(document.getElementById("workboard").innerHTML=g)}setInterval((()=>{createtime()}),250);]]></content>
      
    </entry>
    
    
  
</search>
